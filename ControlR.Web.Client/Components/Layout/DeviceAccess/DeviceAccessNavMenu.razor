@inject ILazyInjector<IDeviceState> DeviceAccessState

<MudNavMenu>
  <MudNavLink Disabled="IsDisabled" Href='@($"/device-access?deviceId={GetDeviceId()}")' Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Home">
    Overview
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled" Href='@($"/device-access/remote-control?deviceId={GetDeviceId()}")' Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.ScreenShare">
    Remote Control
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled" Href='@($"/device-access/terminal?deviceId={GetDeviceId()}")' Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Terminal">
    Terminal
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled" Href='@($"/device-access/chat?deviceId={GetDeviceId()}")' Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Chat">
    Chat
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled"  Href='@($"/device-access/file-system?deviceId={GetDeviceId()}")' Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Folder">
    File System
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled"  Href='@($"/device-access/remote-logs?deviceId={GetDeviceId()}")' Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.TextSnippet">
    Remote Logs
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled" Href='@($"/device-access/vnc-relay?deviceId={GetDeviceId()}")' Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Cast">
    VNC Relay
  </MudNavLink>

  @*
  <MudNavLink Disabled="IsDisabled" Href="/device-access/processes" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.MonitorHeart">
    Processes
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled" Href="/device-access/registry" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Dataset">
    Registry
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled" Href="/device-access/events" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Event">
    Events
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled" Href="/device-access/services" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.SettingsApplications">
    Services
  </MudNavLink>

  <MudNavLink Disabled="IsDisabled" Href="/device-access/logs" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.TextSnippet">
    Logs
  </MudNavLink> *@
</MudNavMenu>

@code {
  [Parameter]
  public bool IsDisabled { get; set; }

  private string GetDeviceId()
  {
    if (DeviceAccessState.Maybe?.TryGetCurrentDevice() is {} device)
    {
      return device.Id.ToString();
    }
    return string.Empty;
  }
}